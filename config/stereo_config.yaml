stereo:
  # Hardware configuration
  lens:
    focal_length_mm: 6.0
    field_of_view_deg:
      horizontal: 50.7
      vertical: 39.2
  
  # Stereo baseline (measure distance between camera optical centers)
  baseline_mm: 120.0  # MEASURE THIS: Distance between lens centers on bracket
  
  # Stereo matching algorithm
  algorithm: "SGBM"  # or "BM"
  
  # SGBM parameters optimized for 6mm lens
  sgbm:
    min_disparity: 0
    num_disparities: 128  # must be divisible by 16
    block_size: 11  # odd number, typically 5-21
    P1: 600  # penalty on disparity change of +/-1
    P2: 2400  # penalty on larger disparity changes
    disp12_max_diff: 1
    uniqueness_ratio: 10
    speckle_window_size: 100
    speckle_range: 32
    mode: "HH"  # Hirschmuller mode
  
  # Block Matching parameters (if using BM)
  bm:
    min_disparity: 0
    num_disparities: 128
    block_size: 15
    
  # Post-processing
  post_process:
    use_wls_filter: true
    wls_lambda: 8000
    wls_sigma: 1.5
    median_blur: 5  # kernel size, 0 to disable
  
  # Calibration pattern (optimized for 20cm working distance)
  calibration_pattern:
    type: "charuco"  # ChArUco (recommended) or "chessboard"
    rows: 5  # Internal corners for ChArUco (6 rows of squares)
    cols: 7  # Internal corners for ChArUco (8 columns of squares)
    square_size_mm: 15.0  # Optimized for 20cm working distance - MEASURE AFTER PRINTING!
    marker_size_mm: 11.0  # ArUco marker size (73% of square size) - for ChArUco only
    aruco_dict: "DICT_4X4_50"  # ArUco dictionary for ChArUco markers
  
  # Depth range (dependent on baseline and focal length)
  # For 6mm lens with ~120mm baseline at 20cm working distance:
  visualization:
    colormap: "TURBO"  # JET, TURBO, HSV, etc.
    min_distance_m: 0.15  # minimum valid distance (15cm)
    max_distance_m: 10.0  # maximum distance to display (10m)
    measurement_points: 9  # grid of distance measurements